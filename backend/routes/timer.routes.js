// routes/timers.js
const express = require('express')
const router = express.Router()

const {
  iniciarTimer,
  detenerTimerActual,   // ðŸ‘ˆ nuevo
  detenerTimerPorId,    // ðŸ‘ˆ renombrado del tuyo
  obtenerTimerActivo,   // ðŸ‘ˆ nuevo
  listarTimersPorTarea
} = require('../controllers/timer.controller')

const { verificarToken } = require('../auth/jwt')

// Iniciar o cambiar timer
router.post('/start', verificarToken, iniciarTimer)

// Detener el timer activo del usuario
router.post('/stop', verificarToken, detenerTimerActual)

// (Opcional) detener por ID
router.post('/stop/:id', verificarToken, detenerTimerPorId)

// Consultar el timer activo
router.get('/active', verificarToken, obtenerTimerActivo)

// HistÃ³rico por tarea
router.get('/tarea/:tareaId', verificarToken, listarTimersPorTarea)

module.exports = router
